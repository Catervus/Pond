workspace "FrogEngine2D"

	architecture "x64"
	
	configurations
	{
		"Debug",
		"Release",
		"Dist"
	}

outputdir = "%{cfg.buildcfg}-%{cfg.system}-%{cfg.architecture}"

IncludeDirs = {}
IncludeDirs["SDL2"] = "%{prj.name}/vendor/SDL2/include"

include "FrogEngine2D/vendor/SDL2/premake5.lua"

project "FrogEngine2D"

	location "FrogEngine2D"

	kind "SharedLib" --dll

	language "C"

	targetdir ("bin/" .. outputdir .. "/%{prj.name}")
	objdir ("bin-int/" .. outputdir .. "/%{prj.name}")

	files
	{
		"%{prj.name}/src/**.h",
		"%{prj.name}/src/**.c"
	}

	includedirs -- no includes yet
	{
		-- "%{prj.name}/vendor/xx/include"
		--"%{IncludeDirs.SDL2}",
		--"%{prj.name}/vendor/SDL2/include"
		--"dependencies/SDL2/include"
		"%{prj.name}/vendor/SDL2/include"
	}

	libdirs
	{
		"%{prj.name}/vendor/SDL2/Binaries/Debug-windows-x86_64"
		--"dependencies/SDL2/lib/x64"
	}

	links
	{
		"SDL2.lib"
	}


	filter "system:windows"
		-- C dialect cdialect "C bla"

		staticruntime "On" --linking runtime libraries statically

		systemversion "latest" -- windows sdk verion

		defines
		{
			"FE_PLATFORM_WINDOWS",
			"FE_BUILD_DLL"
			--"WINDLL" <- automatically generated by vs
		}

		postbuildcommands
		{
			-- copies FrogEngine2D dll into Sandbox exe folder
			("{COPY} %{cfg.buildtarget.relpath} ../bin/../bin/" .. outputdir .. "/Sandbox"),
		}

		filter "configurations:Debug"
			defines "FE_DEBUG"
			symbols "On"

		filter "configurations:Release"
			defines "FE_Release"
			optimize "On"

		filter "configurations:Dist"
			defines "FE_Dist"
			optimize "On"


project "Sandbox"

	location "Sandbox"

	kind "ConsoleApp" --dll

	language "C"

	targetdir ("bin/" .. outputdir .. "/%{prj.name}")
	objdir ("bin-int/" .. outputdir .. "/%{prj.name}")

	files
	{
		"%{prj.name}/src/**.h",
		"%{prj.name}/src/**.c"
	}

	includedirs -- no includes yet
	{
		-- "%{prj.name}/vendor/xx/include"
		"FrogEngine2D/src",
		--"dependencies/SDL2/include"
		"FrogEngine2D/vendor/SDL2/include"
	}

	libdirs
	{
		--"dependencies/SDL2/lib/x64"
		"FrogEngine2D/vendor/SDL2/Binaries/Debug-windows-x86_64"
	}

	links
	{
		"FrogEngine2D",
		"SDL2.lib"
	}

	filter "system:windows"
		-- C dialect cdialect "C bla"

		staticruntime "On" --linking runtime libraries statically

		systemversion "latest" -- windows sdk verion

		defines
		{
			"FE_PLATFORM_WINDOWS"
		}

		

		filter "configurations:Debug"
			defines "FE_DEBUG"
			symbols "On"

		filter "configurations:Release"
			defines "FE_Release"
			optimize "On"

		filter "configurations:Dist"
			defines "FE_Dist"
			optimize "On"


			
---------------------------------------------------------------------